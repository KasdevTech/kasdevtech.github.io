<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Terraform Import in Azure — Fixing Out-of-Band Changes | KasdevTech</title><meta name=keywords content="Terraform,Azure,State,Troubleshooting"><meta name=description content="Sometimes resources created manually in the Azure Portal need to be managed by Terraform. Here&rsquo;s how I used terraform import to fix drift and sync state."><meta name=author content="Kasi Suresh"><link rel=canonical href=https://kasdevtech.github.io/terraform/out-of-band-changes/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://kasdevtech.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://kasdevtech.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://kasdevtech.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://kasdevtech.github.io/apple-touch-icon.png><link rel=mask-icon href=https://kasdevtech.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://kasdevtech.github.io/terraform/out-of-band-changes/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://kasdevtech.github.io/terraform/out-of-band-changes/"><meta property="og:site_name" content="KasdevTech"><meta property="og:title" content="Terraform Import in Azure — Fixing Out-of-Band Changes"><meta property="og:description" content="Sometimes resources created manually in the Azure Portal need to be managed by Terraform. Here’s how I used terraform import to fix drift and sync state."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="terraform"><meta property="article:published_time" content="2025-09-01T00:00:00+00:00"><meta property="article:modified_time" content="2025-09-01T00:00:00+00:00"><meta property="article:tag" content="Terraform"><meta property="article:tag" content="Azure"><meta property="article:tag" content="State"><meta property="article:tag" content="Troubleshooting"><meta name=twitter:card content="summary"><meta name=twitter:title content="Terraform Import in Azure — Fixing Out-of-Band Changes"><meta name=twitter:description content="Sometimes resources created manually in the Azure Portal need to be managed by Terraform. Here&rsquo;s how I used terraform import to fix drift and sync state."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Terraform","item":"https://kasdevtech.github.io/terraform/"},{"@type":"ListItem","position":2,"name":"Terraform Import in Azure — Fixing Out-of-Band Changes","item":"https://kasdevtech.github.io/terraform/out-of-band-changes/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Terraform Import in Azure — Fixing Out-of-Band Changes","name":"Terraform Import in Azure — Fixing Out-of-Band Changes","description":"Sometimes resources created manually in the Azure Portal need to be managed by Terraform. Here\u0026rsquo;s how I used terraform import to fix drift and sync state.","keywords":["Terraform","Azure","State","Troubleshooting"],"articleBody":" ❌ Error:\nError: A resource with the ID already exists - to be managed via Terraform this resource needs to be imported into the State The Problem Someone created a Storage Account manually in the Azure Portal.\nWhen I tried to deploy Terraform, it failed because the resource already existed.\nSolution — Using terraform import Step 1: Define the Resource in Code resource \"azurerm_storage_account\" \"example\" { name = \"kasdevstorage01\" resource_group_name = azurerm_resource_group.rg.name location = azurerm_resource_group.rg.location account_tier = \"Standard\" account_replication_type = \"LRS\" } Step 2: Import the Existing Resource terraform import azurerm_storage_account.example \\ /subscriptions//resourceGroups//providers/Microsoft.Storage/storageAccounts/kasdevstorage01 Step 3: Run Plan terraform plan Terraform now recognizes the resource as managed. Notes: Always define the resource exactly as it exists in Azure. Use terraform state show after import to confirm values. Use imports to bring drifted or manually created resources back under Terraform. – Kasi @ KasdevTech or LinkedIn\n","wordCount":"144","inLanguage":"en","datePublished":"2025-09-01T00:00:00Z","dateModified":"2025-09-01T00:00:00Z","author":{"@type":"Person","name":"Kasi Suresh"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://kasdevtech.github.io/terraform/out-of-band-changes/"},"publisher":{"@type":"Organization","name":"KasdevTech","logo":{"@type":"ImageObject","url":"https://kasdevtech.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://kasdevtech.github.io/ accesskey=h title="KasdevTech (Alt + H)"><img src=https://kasdevtech.github.io/images/kasdev.png alt aria-label=logo height=30>KasdevTech</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://kasdevtech.github.io/azure/ title=Azure><span>Azure</span></a></li><li><a href=https://kasdevtech.github.io/az-104/ title=AZ-104><span>AZ-104</span></a></li><li><a href=https://kasdevtech.github.io/devops/ title=DevOps><span>DevOps</span></a></li><li><a href=https://kasdevtech.github.io/finops/ title=FinOps><span>FinOps</span></a></li><li><a href=https://kasdevtech.github.io/terraform/ title=Terraform><span>Terraform</span></a></li><li><a href=https://kasdevtech.github.io/ai/ title=AI><span>AI</span></a></li><li><a href=https://kasdevtech.github.io/finsight/ title=Finsight><span>Finsight</span></a></li><li><a href=https://kasdevtech.github.io/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Terraform Import in Azure — Fixing Out-of-Band Changes</h1><div class=post-meta><span title='2025-09-01 00:00:00 +0000 UTC'>September 1, 2025</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Kasi Suresh</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#the-problem aria-label="The Problem">The Problem</a></li><li><a href=#solution--using-terraform-import aria-label="Solution — Using terraform import">Solution — Using terraform import</a></li><li><a href=#step-1-define-the-resource-in-code aria-label="Step 1: Define the Resource in Code">Step 1: Define the Resource in Code</a></li><li><a href=#step-2-import-the-existing-resource aria-label="Step 2: Import the Existing Resource">Step 2: Import the Existing Resource</a></li><li><a href=#step-3-run-plan aria-label="Step 3: Run Plan">Step 3: Run Plan</a></li><li><a href=#notes aria-label=Notes:>Notes:</a></li></ul></div></details></div><div class=post-content><blockquote><p>❌ Error:</p><pre tabindex=0><code>Error: A resource with the ID already exists - to be managed via Terraform this resource needs to be imported into the State
</code></pre></blockquote><h4 id=the-problem>The Problem<a hidden class=anchor aria-hidden=true href=#the-problem>#</a></h4><p>Someone created a <strong>Storage Account</strong> manually in the Azure Portal.<br>When I tried to deploy Terraform, it failed because the resource already existed.</p><h4 id=solution--using-terraform-import>Solution — Using <code>terraform import</code><a hidden class=anchor aria-hidden=true href=#solution--using-terraform-import>#</a></h4><h4 id=step-1-define-the-resource-in-code>Step 1: Define the Resource in Code<a hidden class=anchor aria-hidden=true href=#step-1-define-the-resource-in-code>#</a></h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-hcl data-lang=hcl><span style=display:flex><span><span style=color:#66d9ef>resource</span> <span style=color:#e6db74>&#34;azurerm_storage_account&#34; &#34;example&#34;</span> {
</span></span><span style=display:flex><span>  name                     <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;kasdevstorage01&#34;</span>
</span></span><span style=display:flex><span>  resource_group_name      <span style=color:#f92672>=</span> <span style=color:#66d9ef>azurerm_resource_group</span>.<span style=color:#66d9ef>rg</span>.<span style=color:#66d9ef>name</span>
</span></span><span style=display:flex><span>  location                 <span style=color:#f92672>=</span> <span style=color:#66d9ef>azurerm_resource_group</span>.<span style=color:#66d9ef>rg</span>.<span style=color:#66d9ef>location</span>
</span></span><span style=display:flex><span>  account_tier             <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Standard&#34;</span>
</span></span><span style=display:flex><span>  account_replication_type <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;LRS&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=step-2-import-the-existing-resource>Step 2: Import the Existing Resource<a hidden class=anchor aria-hidden=true href=#step-2-import-the-existing-resource>#</a></h4><pre tabindex=0><code>terraform import azurerm_storage_account.example \
  /subscriptions/&lt;subId&gt;/resourceGroups/&lt;rgName&gt;/providers/Microsoft.Storage/storageAccounts/kasdevstorage01
</code></pre><h4 id=step-3-run-plan>Step 3: Run Plan<a hidden class=anchor aria-hidden=true href=#step-3-run-plan>#</a></h4><pre tabindex=0><code>terraform plan
Terraform now recognizes the resource as managed.
</code></pre><h4 id=notes>Notes:<a hidden class=anchor aria-hidden=true href=#notes>#</a></h4><ul><li>Always define the resource exactly as it exists in Azure.</li><li>Use terraform state show after import to confirm values.</li><li>Use imports to bring drifted or manually created resources back under Terraform.</li></ul><p><strong>– Kasi @ <a href=https://kasdevtech.com>KasdevTech</a></strong> or <a href=https://www.linkedin.com/in/kasi-suresh-992675177/>LinkedIn</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://kasdevtech.github.io/tags/terraform/>Terraform</a></li><li><a href=https://kasdevtech.github.io/tags/azure/>Azure</a></li><li><a href=https://kasdevtech.github.io/tags/state/>State</a></li><li><a href=https://kasdevtech.github.io/tags/troubleshooting/>Troubleshooting</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://kasdevtech.github.io/>KasdevTech</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>